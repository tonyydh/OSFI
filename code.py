#!/usr/bin/env python3
# -*- coding: utf-8 -*-


import urllib
import requests
import re
import time
import pandas as pd

Institution = 'DTIWebPartManager$gwpDTIBankControl1$DTIBankControl1$institutionTypeCriteria$institutionsDropDownList'

for x in range(1999, 2000): # Years
    for y in range(1, 13): # Months
         headers = {'__EVENTTARGET':'',
           '__EVENTARGUMENT':'',
           '__LASTFOCUS':'',
           '__VIEWSTATE':'/wEPDwUJMTY2MTQyMDUxD2QWAgIDD2QWAgIBD2QWAgUSZ3dwRFRJQmFua0NvbnRyb2wxD2QWAmYPDxYCHhNGT1JFSUdOX0JBTktfQlJBTkNIaGQWCgIBDw8WCB8AaB4LU0VDVE9SX0NPREUFATMeCkdST1VQX0NPREUFATMeFklOU1RJVFVUSU9OX1RZUEVfQ09ERVMUKwEDAmMCFAIVZBYGAgEPEA8WAh4EVGV4dAUORG9tZXN0aWMgQmFua3NkZGRkAgMPEA8WAh8EBRlGb3JlaWduIEJhbmsgU3Vic2lkaWFyaWVzZGRkZAIFDxAPFgYeDURhdGFUZXh0RmllbGQFC0VuZ2xpc2hOYW1lHg5EYXRhVmFsdWVGaWVsZAUJQ29tcGFueUlEHgtfIURhdGFCb3VuZGdkEBUqD1RvdGFsIEFsbCBCYW5rcxRUb3RhbCBEb21lc3RpYyBCYW5rcxFBRFMgQ2FuYWRpYW4gQmFuayNBbWljdXMgQmFuayAoSW5hY3RpdmUgTm92IDAxLCAyMDA2KSRCLkMuIEJhbmNvcnAgKEluYWN0aXZlIEphbiAxMiwgMTk5NikIQjJCIEJhbmsQQmFuayBvZiBNb250cmVhbBdUaGUgQmFuayBvZiBOb3ZhIFNjb3RpYSZCQ1BCYW5rIENhbmFkYSAoSW5hY3RpdmUgRGVjIDE1LCAyMDA3KRBCcmlkZ2V3YXRlciBCYW5rJkNhaXNzZSBwb3B1bGFpcmUgYWNhZGllbm5lIGx0w6llIChVTkkpIkNhbmFkaWFuIEltcGVyaWFsIEJhbmsgb2YgQ29tbWVyY2USQ2FuYWRpYW4gVGlyZSBCYW5rFUNhbmFkaWFuIFdlc3Rlcm4gQmFuaw5Db25jZW50cmEgQmFuaxpDb250aW5lbnRhbCBCYW5rIG9mIENhbmFkYTJDb250aW5lbnRhbCBCYW5rIG9mIENhbmFkYSAoSW5hY3RpdmUgT2N0IDIzLCAxOTk2KQ9DUyBBbHRlcm5hIEJhbmsPRGlyZWN0Q2FzaCBCYW5rDkVxdWl0YWJsZSBCYW5rF0V4Y2hhbmdlIEJhbmsgb2YgQ2FuYWRhHEZpcnN0IE5hdGlvbnMgQmFuayBvZiBDYW5hZGEWR2VuZXJhbCBCYW5rIG9mIENhbmFkYQlIb21lIEJhbmsOSG9tRXF1aXR5IEJhbmskSmFtZXNvbiBCYW5rIChJbmFjdGl2ZSBKdW4gMTcsIDIwMTQpGUxhdXJlbnRpYW4gQmFuayBvZiBDYW5hZGEXTWFudWxpZmUgQmFuayBvZiBDYW5hZGEXTmF0aW9uYWwgQmFuayBvZiBDYW5hZGE4TmF0aW9uYWwgQmFuayBvZiBHcmVlY2UgKENhbmFkYSkgKEluYWN0aXZlIE9jdCAyNywgMjAwNykXUHJlc2lkZW50J3MgQ2hvaWNlIEJhbmsLUm9nZXJzIEJhbmsUUm95YWwgQmFuayBvZiBDYW5hZGEpU2VhcnMgQ2FuYWRhIEJhbmsgKEluYWN0aXZlIERlYyAyMCwgMjAwNSkdU3RyZWV0IENhcGl0YWwgQmFuayBvZiBDYW5hZGEOVGFuZ2VyaW5lIEJhbmsZVGhlIFRvcm9udG8tRG9taW5pb24gQmFuay9VYmlxdWl0eSBCYW5rIG9mIENhbmFkYSAoSW5hY3RpdmUgT2N0IDAyLCAyMDA3KSFWYW5jaXR5IENvbW11bml0eSBJbnZlc3RtZW50IEJhbmsJVmVyc2FCYW5rGVdlYWx0aCBPbmUgQmFuayBvZiBDYW5hZGEIWmFnIEJhbmsVKgRaMDA1BFowMDECQVYCRkcCQUkCRlECQUMCQUUCRkoCQVcCRloCQUECQVICQU8CQkQCRlYCQU0CRkUCQVkCRlMCQkICRVcCQVUCRlACRk8CQVoCRU4CRVECQUcCRkkCRkYCRlICQUICQVMCQkMCRVkCQUQCQVQCRVgCQVACRlgCQVEUKwMqZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnFgFmZAIDDw8WCB8BBQEzHwIFATMeEERUSV9ESVNQTEFZX1RZUEULKYsBUHVibGljRGlzY2xvc3VyZVdlYkFwcC5Db21tb24uRFRJRGlzcGxheVR5cGVzLCBQdWJsaWNEaXNjbG9zdXJlV2ViQXBwLCBWZXJzaW9uPTIwMTcuMy4yLjEsIEN1bHR1cmU9bmV1dHJhbCwgUHVibGljS2V5VG9rZW49NmQ4ZmQ3NzY2ZDlmMzJmNgAfAxQrAQMCYwIUAhVkFggCBQ8QDxYGHwUFC0VuZ2xpc2hOYW1lHwYFDFRlbXBsYXRlQ29kZR8HZ2QQFQEaQ29uc29saWRhdGVkIEJhbGFuY2UgU2hlZXQVAQVEVEktMRQrAwFnFgFmZAIHDxAPFggfBQULRW5nbGlzaE5hbWUfBgUMVGVtcGxhdGVDb2RlHwdnHgdFbmFibGVkaGQQFQYYU3VtbWFyeSBJbmNvbWUgU3RhdGVtZW50KkltcGFpcmVkIEFzc2V0cyAoZXhjbHVkaW5nIHRoZSBtZW1vIGl0ZW1zKRdCQ0FSIENhcGl0YWwgQ29tcG9uZW50cxpCQ0FSIERlcml2YXRpdmUgQ29tcG9uZW50czhDYXBpdGFsIEFkZXF1YWN5LUNvbXBvbmVudHMgT2YgQ2FwaXRhbChpbmFjdGl2ZSBRMS8yMDA4KTJTdW1tYXJ5IE9mZi1CYWxhbmNlIFNoZWV0IEl0ZW1zIChpbmFjdGl2ZSBRMS8yMDA4KRUGBURUSS0yBURUSS00BURUSS03BURUSS04BURUSS0zBURUSS01FCsDBmdnZ2dnZxYBZmQCCQ8QDxYIHwUFDERhdGVSZXBvcnRlZB8GBRFGaXNjYWxQZXJpb2RWYWx1ZR4URGF0YVRleHRGb3JtYXRTdHJpbmcFEXswOk1NTU0gZGQsIHl5eXl9HwdnZBAVhAIPQXVndXN0IDMxLCAyMDE3DUp1bHkgMzEsIDIwMTcNSnVuZSAzMCwgMjAxNwxNYXkgMzEsIDIwMTcOQXByaWwgMzAsIDIwMTcOTWFyY2ggMzEsIDIwMTcRRmVicnVhcnkgMjgsIDIwMTcQSmFudWFyeSAzMSwgMjAxNxFEZWNlbWJlciAzMSwgMjAxNhFOb3ZlbWJlciAzMCwgMjAxNhBPY3RvYmVyIDMxLCAyMDE2ElNlcHRlbWJlciAzMCwgMjAxNg9BdWd1c3QgMzEsIDIwMTYNSnVseSAzMSwgMjAxNg1KdW5lIDMwLCAyMDE2DE1heSAzMSwgMjAxNg5BcHJpbCAzMCwgMjAxNg5NYXJjaCAzMSwgMjAxNhFGZWJydWFyeSAyOSwgMjAxNhBKYW51YXJ5IDMxLCAyMDE2EURlY2VtYmVyIDMxLCAyMDE1EU5vdmVtYmVyIDMwLCAyMDE1EE9jdG9iZXIgMzEsIDIwMTUSU2VwdGVtYmVyIDMwLCAyMDE1D0F1Z3VzdCAzMSwgMjAxNQ1KdWx5IDMxLCAyMDE1DUp1bmUgMzAsIDIwMTUMTWF5IDMx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T2N0b2JlciAzMSwgMTk5NhJTZXB0ZW1iZXIgMzAsIDE5OTYPQXVndXN0IDMxLCAxOTk2DUp1bHkgMzEsIDE5OTYNSnVuZSAzMCwgMTk5NgxNYXkgMzEsIDE5OTYOQXByaWwgMzAsIDE5OTYOTWFyY2ggMzEsIDE5OTYRRmVicnVhcnkgMjksIDE5OTYQSmFudWFyeSAzMSwgMTk5NhWEAgg4IC0gMjAxNwg3IC0gMjAxNwg2IC0gMjAxNwg1IC0gMjAxNwg0IC0gMjAxNwgzIC0gMjAxNwgyIC0gMjAxNwgxIC0gMjAxNwkxMiAtIDIwMTYJMTEgLSAyMDE2CTEwIC0gMjAxNgg5IC0gMjAxNgg4IC0gMjAxNgg3IC0gMjAxNgg2IC0gMjAxNgg1IC0gMjAxNgg0IC0gMjAxNggzIC0gMjAxNggyIC0gMjAxNggxIC0gMjAxNgkxMiAtIDIwMTUJMTEgLSAyMDE1CTEwIC0gMjAxNQg5IC0gMjAxNQg4IC0gMjAxNQg3IC0gMjAxNQg2IC0gMjAxNQg1IC0gMjAxNQg0IC0gMjAxNQgzIC0gMjAxNQgyIC0gMjAxNQgxIC0gMjAxNQkxMiAtIDIwMTQJMTEgLSAyMDE0CTEwIC0gMjAxNAg5IC0gMjAxNAg4IC0gMjAxNAg3IC0gMjAxNAg2IC0gMjAxNAg1IC0gMjAxNAg0IC0gMjAxNAgzIC0gMjAxNAgyIC0gMjAxNAgxIC0gMjAxNAkxMiAtIDIwMTMJMTEgLSAyMDEzCTEwIC0gMjAxMwg5IC0gMjAxMwg4IC0gMjAxMwg3IC0gMjAxMwg2IC0gMjAxMwg1IC0gMjAxMwg0IC0gMjAxMwgzIC0gMjAxMwgyIC0gMjAxMwgxIC0gMjAxMwkxMiAtIDIwMTIJMTEgLSAyMDEyCTEwIC0gMjAxMgg5IC0gMjAxMgg4IC0gMjAxMgg3IC0gMjAxMgg2IC0gMjAxMgg1IC0gMjAxMgg0IC0gMjAxMggzIC0gMjAxMggyIC0gMjAxMggxIC0gMjAxMgkxMiAtIDIwMTEJMTEgLSAyMDExCTEwIC0gMjAxMQg5IC0gMjAxMQg4IC0gMjAxMQg3IC0gMjAxMQg2IC0gMjAxMQg1IC0gMjAxMQg0IC0gMjAxMQgzIC0gMjAxMQgyIC0gMjAxMQgxIC0gMjAxMQkxMiAtIDIwMTAJMTEgLSAyMDEwCTEwIC0gMjAxMAg5IC0gMjAxMAg4IC0gMjAxMAg3IC0gMjAxMAg2IC0gMjAxMAg1IC0gMjAxMAg0IC0gMjAxMAgzIC0gMjAxMAgyIC0gMjAxMAgxIC0gMjAxMAkxMiAtIDIwMDkJMTEgLSAyMDA5CTEwIC0gMjAwOQg5IC0gMjAwOQg4IC0gMjAwOQg3IC0gMjAwOQg2IC0gMjAwOQg1IC0gMjAwOQg0IC0gMjAwOQgzIC0gMjAwOQgyIC0gMjAwOQgxIC0gMjAwOQkxMiAtIDIwMDgJMTEgLSAyMDA4CTEwIC0gMjAwOAg5IC0gMjAwOAg4IC0gMjAwOAg3IC0gMjAwOAg2IC0gMjAwOAg1IC0gMjAwOAg0IC0gMjAwOAgzIC0gMjAwOAgyIC0gMjAwOAgxIC0gMjAwOAkxMiAtIDIwMDcJMTEgLSAyMDA3CTEwIC0gMjAwNwg5IC0gMjAwNwg4IC0gMjAwNwg3IC0gMjAwNwg2IC0gMjAwNwg1IC0gMjAwNwg0IC0gMjAwNwgzIC0gMjAwNwgyIC0gMjAwNwgxIC0gMjAwNwkxMiAtIDIwMDYJMTEgLSAyMDA2CTEwIC0gMjAwNgg5IC0gMjAwNgg4IC0gMjAwNgg3IC0gMjAwNgg2IC0gMjAwNgg1IC0gMjAwNgg0IC0gMjAwNggzIC0gMjAwNggyIC0gMjAwNggxIC0gMjAwNgkxMiAtIDIwMDUJMTEgLSAyMDA1CTEwIC0gMjAwNQg5IC0gMjAwNQg4IC0gMjAwNQg3IC0gMjAwNQg2IC0gMjAwNQg1IC0gMjAwNQg0IC0gMjAwNQgzIC0gMjAwNQgyIC0gMjAwNQgxIC0gMjAwNQkxMiAtIDIwMDQJMTEgLSAyMDA0CTEwIC0gMjAwNAg5IC0gMjAwNAg4IC0gMjAwNAg3IC0gMjAwNAg2IC0gMjAwNAg1IC0gMjAwNAg0IC0gMjAwNAgzIC0gMjAwNAgyIC0gMjAwNAgxIC0gMjAwNAkxMiAtIDIwMDMJMTEgLSAyMDAzCTEwIC0gMjAwMwg5IC0gMjAwMwg4IC0gMjAwMwg3IC0gMjAwMwg2IC0gMjAwMwg1IC0gMjAwMwg0IC0gMjAwMwgzIC0gMjAwMwgyIC0gMjAwMwgxIC0gMjAwMwkxMiAtIDIwMDIJMTEgLSAyMDAyCTEwIC0gMjAwMgg5IC0gMjAwMgg4IC0gMjAwMgg3IC0gMjAwMgg2IC0gMjAwMgg1IC0gMjAwMgg0IC0gMjAwMggzIC0gMjAwMggyIC0gMjAwMggxIC0gMjAwMgkxMiAtIDIwMDEJMTEgLSAyMDAxCTEwIC0gMjAwMQg5IC0gMjAwMQg4IC0gMjAwMQg3IC0gMjAwMQg2IC0gMjAwMQg1IC0gMjAwMQg0IC0gMjAwMQgzIC0gMjAwMQgyIC0gMjAwMQgxIC0gMjAwMQkxMiAtIDIwMDAJMTEgLSAyMDAwCTEwIC0gMjAwMAg5IC0gMjAwMAg4IC0gMjAwMAg3IC0gMjAwMAg2IC0gMjAwMAg1IC0gMjAwMAg0IC0gMjAwMAgzIC0gMjAwMAgyIC0gMjAwMAgxIC0gMjAwMAkxMiAtIDE5OTkJMTEgLSAxOTk5CTEwIC0gMTk5OQg5IC0gMTk5OQg4IC0gMTk5OQg3IC0gMTk5OQg2IC0gMTk5OQg1IC0gMTk5OQg0IC0gMTk5OQgzIC0gMTk5OQgyIC0gMTk5OQgxIC0gMTk5OQkxMiAtIDE5OTgJMTEgLSAxOTk4CTEwIC0gMTk5OAg5IC0gMTk5OAg4IC0gMTk5OAg3IC0gMTk5OAg2IC0gMTk5OAg1IC0gMTk5OAg0IC0gMTk5OAgzIC0gMTk5OAgyIC0gMTk5OAgxIC0gMTk5OAkxMiAtIDE5OTcJMTEgLSAxOTk3CTEwIC0gMTk5Nwg5IC0gMTk5Nwg4IC0gMTk5Nwg3IC0gMTk5Nwg2IC0gMTk5Nwg1IC0gMTk5Nwg0IC0gMTk5NwgzIC0gMTk5NwgyIC0gMTk5NwgxIC0gMTk5NwkxMiAtIDE5OTYJMTEgLSAxOTk2CTEwIC0gMTk5Ngg5IC0gMTk5Ngg4IC0gMTk5Ngg3IC0gMTk5Ngg2IC0gMTk5Ngg1IC0gMTk5Ngg0IC0gMTk5NggzIC0gMTk5NggyIC0gMTk5NggxIC0gMTk5NhQrA4QCZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dkZAILDxAPFgIfCWhkZBYAZAIFDw8WAh8JZ2RkAgcPDxYCHwlnZGQCCQ8PFgIeB1Zpc2libGVoZGQYAQUeX19Db250cm9sc1JlcXVpcmVQb3N0QmFja0tleV9fFgYFXURUSVdlYlBhcnRNYW5hZ2VyJGd3cERUSUJhbmtDb250cm9sMSREVElCYW5rQ29udHJvbDEkaW5zdGl0dXRpb25UeXBlQ3JpdGVyaWEkdHlwZTFSYWRpb0J1dHRvbgVdRFRJV2ViUGFydE1hbmFnZXIkZ3dwRFRJQmFua0NvbnRyb2wxJERUSUJhbmtDb250cm9sMSRpbnN0aXR1dGlvblR5cGVDcml0ZXJpYSR0eXBlMlJhZGlvQnV0dG9uBV1EVElXZWJQYXJ0TWFuYWdlciRnd3BEVElCYW5rQ29udHJvbDEkRFRJQmFua0NvbnRyb2wxJGluc3RpdHV0aW9uVHlwZUNyaXRlcmlhJHR5cGUyUmFkaW9CdXR0b24FWURUSVdlYlBhcnRNYW5hZ2VyJGd3cERUSUJhbmtDb250cm9sMSREVElCYW5rQ29udHJvbDEkZHRpUmVwb3J0Q3JpdGVyaWEkbW9udGhseVJhZGlvQnV0dG9uBVtEVElXZWJQYXJ0TWFuYWdlciRnd3BEVElCYW5rQ29udHJvbDEkRFRJQmFua0NvbnRyb2wxJGR0aVJlcG9ydENyaXRlcmlhJHF1YXJ0ZXJseVJhZGlvQnV0dG9uBVtEVElXZWJQYXJ0TWFuYWdlciRnd3BEVElCYW5rQ29udHJvbDEkRFRJQmFua0NvbnRyb2wxJGR0aVJlcG9ydENyaXRlcmlhJHF1YXJ0ZXJseVJhZGlvQnV0dG9up03CAugvL8T63mSgMUuOJrE99jY=',
           '__VIEWSTATEGENERATOR':'A28A8BE1',
           '__EVENTVALIDATION':'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',
           'DTIWebPartManager$gwpDTIBankControl1$DTIBankControl1$submitButton':'Submit',
           'DTIWebPartManager$gwpDTIBankControl1$DTIBankControl1$institutionTypeCriteria$institutionType':'type1RadioButton',
           'DTIWebPartManager$gwpDTIBankControl1$DTIBankControl1$dtiReportCriteria$Frequency':'quarterlyRadioButton',
           'DTIWebPartManager_gwpDTIBankControl1_DTIBankControl1_dtiReportCriteria_quarterlyDropDownList':'DTI-1',
           'DTIWebPartManager$gwpDTIBankControl1$DTIBankControl1$dtiReportCriteria$monthlyDatesDropDownList':'%d - %d' % (y, x),
           
           Institution:'Z005' # see list below
      
           }
         
         pr = requests.post('http://ws2.osfi-bsif.gc.ca/WebApps/FINDAT/DTIBanks.aspx?T=0&LANG=E', data=headers)
         WindowID = re.findall(r"Temp/(.+?)FinancialData.aspx",pr.text)
         urllib.request.urlretrieve('http://ws2.osfi-bsif.gc.ca/WebApps/Temp/'+WindowID[0]+'FinancialData.aspx', filename='HTML/%d-%d.html' % (x, y), reporthook=None, data=None)
         time.sleep(1)


'''
*** Domestic Banks ***

Z005 : Total All Banks
Z001 : Total Domestic Banks
AV : ADS Canadian Bank
FG : Amicus Bank (Inactive Nov 01, 2006)
AI : B.C. Bancorp (Inactive Jan 12, 1996)
FQ : B2B Bank
AC : Bank of Montreal
AE : The Bank of Nova Scotia
FJ : BCPBank Canada (Inactive Dec 15, 2007)
AW : Bridgewater Bank
FZ : Caisse populaire acadienne lt√©e (UNI)
AA : Canadian Imperial Bank of Commerce
AR : Canadian Tire Bank
AO : Canadian Western Bank
BD : Concentra Bank
FV : Continental Bank of Canada
AM : Continental Bank of Canada (Inactive Oct 23, 1996)
FE : CS Alterna Bank
AY : DirectCash Bank
FS : Equitable Bank
BB : Exchange Bank of Canada
EW : First Nations Bank of Canada
AU : General Bank of Canada
FP : Home Bank
FO : HomEquity Bank
AZ : Jameson Bank (Inactive Jun 17, 2014)
EN : Laurentian Bank of Canada
EQ : Manulife Bank of Canada
AG : National Bank of Canada
FI : National Bank of Greece (Canada) (Inactive Oct 27, 2007)
FF : President's Choice Bank
FR : Rogers Bank
AB : Royal Bank of Canada
AS : Sears Canada Bank (Inactive Dec 20, 2005)
BC : Street Capital Bank of Canada
EY : Tangerine Bank
AD : The Toronto-Dominion Bank
AT : Ubiquity Bank of Canada (Inactive Oct 02, 2007)
EX : Vancity Community Investment Bank
AP : VersaBank
FX : Wealth One Bank of Canada
AQ : Zag Bank
'''

maindf = pd.DataFrame(columns=['yyyymm'])

for x in range(1999, 2000):
    for y in range(5, 8):
        dfs = pd.read_html('HTML/M/%d-%d.html' % (x,y))
        tt = dfs[1]
        assets = tt.T
        assets.columns=assets.loc[0]
        assets.insert(0, 'yyyymm','%d.%d' % (x,y))
        assets = assets[['yyyymm','To individuals for non-business purposes','Insured','Uninsured']]
        assets = assets[2:]
        maindf = pd.concat([maindf,assets])